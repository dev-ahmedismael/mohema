<section class="bg-white rounded-lg py-10 container shadow-md">
  <h3 class="text-2xl text-center text-teal-700 mb-5">{{ task.title }}</h3>
  <p class="text-gray-400 text-center mb-10">{{ task.description }}</p>

  <div class="container flex justify-between">
    <div class="pr-10 pt-10 relative">
      <div class="bg-teal-300 p-32 rotate-45 rounded-lg"></div>
      <div
        class="absolute top-0 right-5 z-10 w-full h-full max-h-full max-w-full flex flex-col justify-center items-center gap-5"
      >
        @if (employees.length > 0) { @for (employee of employees.slice(0,3);
        track employee.id) {
        <div
          class="flex items-center gap-5 bg-white rounded-lg pl-5 border-b-2 border-b-orange-500"
        >
          <div>
            <img
              ngSrc="assets/images/triangle.png"
              alt="Triangle "
              width="30"
              height="30"
            />
          </div>
          <p>{{ employee.username }}</p>
        </div>
        } } @else {
        <div
          class="flex items-center gap-5 bg-white rounded-lg pl-5 mb-5 border-b-2 border-b-orange-500"
        >
          <div>
            <img
              ngSrc="assets/images/triangle.png"
              alt="Triangle "
              width="30"
              height="30"
            />
          </div>

          <p>لا يوجد أعضاء</p>
        </div>
        }
      </div>
    </div>

    <div class="relative">
      <div class="bg-teal-300 p-40 w-fit rounded-full"></div>
      <div
        class="absolute top-0 right-0 w-full h-full max-w-full max-h-full flex flex-col justify-center items-center gap-5"
      >
        @if (goals.length > 0) { @for (goal of goals.slice(0,3); track goal.id)
        {
        <div
          class="flex items-center gap-5 bg-white rounded-lg pl-5 mb-5 border-b-2 border-b-orange-500"
        >
          <div>
            <img
              ngSrc="assets/images/triangle.png"
              alt="Triangle "
              width="30"
              height="30"
            />
          </div>

          <p>{{ goal.title }}</p>
        </div>
        }} @else {
        <div
          class="flex items-center gap-5 bg-white rounded-lg pl-5 mb-5 border-b-2 border-b-orange-500"
        >
          <div>
            <img
              ngSrc="assets/images/triangle.png"
              alt="Triangle "
              width="30"
              height="30"
            />
          </div>

          <p>لا يوجد أهداف</p>
        </div>
        }
      </div>
      <!--  -->
    </div>
  </div>
  <div class="flex justify-around mt-10 text-teal-600 underline">
    <button (click)="openDialog('team')" class="pl-16">عرض كل الفريق</button>
    <button
      class="underline text-teal-600 cursor-pointer pr-20"
      (click)="openDialog('goals')"
    >
      عرض كل الأهداف
    </button>
  </div>
  <div class="mt-10 flex justify-center">
    <table>
      <thead>
        <tr>
          <th>اسم المهمة</th>
          <th>تاريخ البداية</th>
          <th>تاريخ الإنتهاء</th>
          <th>نسبة الإنجاز</th>
          <th>التكلفة</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ task.title }}</td>
          <td>{{ task.start_date }}</td>
          <td>{{ task.expiry_date }}</td>
          <td>{{ task.completness }} %</td>
          <td>{{ task.cost }} ريال سعودي</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
